{"ast":null,"code":"import ApexChart from\"react-apexcharts\";import{useQuery}from\"react-query\";import{useOutletContext}from\"react-router-dom\";import{fetchCoinHistory}from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";function Chart(){var _useOutletContext=useOutletContext(),coinId=_useOutletContext.coinId;var _useQuery=useQuery([\"ohlcv\",coinId],function(){return fetchCoinHistory(coinId);},{refetchInterval:10000}),isLoading=_useQuery.isLoading,data=_useQuery.data;return/*#__PURE__*/_jsx(\"div\",{children:isLoading?\"Loading chart...\":/*#__PURE__*/_jsx(ApexChart,{type:\"line\",series:[{name:\"Price\",data:data===null||data===void 0?void 0:data.map(function(price){return price.close;})}],options:{theme:{mode:\"dark\"},chart:{height:300,width:500,toolbar:{show:false},background:\"transparent\"},stroke:{curve:\"smooth\",width:4},grid:{show:false},yaxis:{show:false},xaxis:{axisBorder:{show:false},axisTicks:{show:false},labels:{show:false},categories:data===null||data===void 0?void 0:data.map(function(price){return price.time_close;}),type:\"datetime\"},fill:{type:\"gradient\",gradient:{gradientToColors:[\"blue\"],stops:[0,100]}},colors:[\"red\"],tooltip:{y:{formatter:function formatter(value){return\"$ \".concat(value.toFixed(2));}}}}})});}export default Chart;","map":{"version":3,"names":["ApexChart","useQuery","useOutletContext","fetchCoinHistory","Chart","coinId","refetchInterval","isLoading","data","name","map","price","close","theme","mode","chart","height","width","toolbar","show","background","stroke","curve","grid","yaxis","xaxis","axisBorder","axisTicks","labels","categories","time_close","type","fill","gradient","gradientToColors","stops","colors","tooltip","y","formatter","value","toFixed"],"sources":["C:/Users/jinmin00/OneDrive/바탕 화면/코딩 공부/front-end/react/Crypto_tracker/src/routes/Chart.tsx"],"sourcesContent":["import ApexChart from \"react-apexcharts\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\nimport { fetchCoinHistory } from \"../api\";\r\n\r\ninterface ChartProps {\r\n  coinId: string;\r\n}\r\ninterface IHistorical {\r\n  time_open: string;\r\n  time_close: string;\r\n  open: number;\r\n  high: number;\r\n  low: number;\r\n  close: number;\r\n  volume: number;\r\n  market_cap: number;\r\n}\r\n\r\nfunction Chart() {\r\n  const { coinId } = useOutletContext<ChartProps>();\r\n  const { isLoading, data } = useQuery<IHistorical[]>(\r\n    [\"ohlcv\", coinId],\r\n    () => fetchCoinHistory(coinId),\r\n    {\r\n      refetchInterval: 10000,\r\n    }\r\n  );\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        \"Loading chart...\"\r\n      ) : (\r\n        <ApexChart\r\n          type=\"line\"\r\n          series={[\r\n            {\r\n              name: \"Price\",\r\n              data: data?.map((price) => price.close) as number[],\r\n            },\r\n          ]}\r\n          options={{\r\n            theme: { mode: \"dark\" },\r\n            chart: {\r\n              height: 300,\r\n              width: 500,\r\n              toolbar: { show: false },\r\n              background: \"transparent\",\r\n            },\r\n            stroke: { curve: \"smooth\", width: 4 },\r\n            grid: {\r\n              show: false,\r\n            },\r\n            yaxis: {\r\n              show: false,\r\n            },\r\n            xaxis: {\r\n              axisBorder: { show: false },\r\n              axisTicks: { show: false },\r\n              labels: {\r\n                show: false,\r\n              },\r\n              categories: data?.map((price) => price.time_close),\r\n              type: \"datetime\",\r\n            },\r\n            fill: {\r\n              type: \"gradient\",\r\n              gradient: { gradientToColors: [\"blue\"], stops: [0, 100] },\r\n            },\r\n            colors: [\"red\"],\r\n            tooltip: {\r\n              y: {\r\n                formatter: (value) => `$ ${value.toFixed(2)}`,\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default Chart;\r\n"],"mappings":"AAAA,MAAOA,UAAP,KAAsB,kBAAtB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,gBAAT,KAAiC,kBAAjC,CACA,OAASC,gBAAT,KAAiC,QAAjC,C,2CAgBA,QAASC,MAAT,EAAiB,CACf,sBAAmBF,gBAAgB,EAAnC,CAAQG,MAAR,mBAAQA,MAAR,CACA,cAA4BJ,QAAQ,CAClC,CAAC,OAAD,CAAUI,MAAV,CADkC,CAElC,iBAAMF,iBAAgB,CAACE,MAAD,CAAtB,EAFkC,CAGlC,CACEC,eAAe,CAAE,KADnB,CAHkC,CAApC,CAAQC,SAAR,WAAQA,SAAR,CAAmBC,IAAnB,WAAmBA,IAAnB,CAOA,mBACE,qBACGD,SAAS,CACR,kBADQ,cAGR,KAAC,SAAD,EACE,IAAI,CAAC,MADP,CAEE,MAAM,CAAE,CACN,CACEE,IAAI,CAAE,OADR,CAEED,IAAI,CAAEA,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEE,GAAN,CAAU,SAACC,KAAD,QAAWA,MAAK,CAACC,KAAjB,EAAV,CAFR,CADM,CAFV,CAQE,OAAO,CAAE,CACPC,KAAK,CAAE,CAAEC,IAAI,CAAE,MAAR,CADA,CAEPC,KAAK,CAAE,CACLC,MAAM,CAAE,GADH,CAELC,KAAK,CAAE,GAFF,CAGLC,OAAO,CAAE,CAAEC,IAAI,CAAE,KAAR,CAHJ,CAILC,UAAU,CAAE,aAJP,CAFA,CAQPC,MAAM,CAAE,CAAEC,KAAK,CAAE,QAAT,CAAmBL,KAAK,CAAE,CAA1B,CARD,CASPM,IAAI,CAAE,CACJJ,IAAI,CAAE,KADF,CATC,CAYPK,KAAK,CAAE,CACLL,IAAI,CAAE,KADD,CAZA,CAePM,KAAK,CAAE,CACLC,UAAU,CAAE,CAAEP,IAAI,CAAE,KAAR,CADP,CAELQ,SAAS,CAAE,CAAER,IAAI,CAAE,KAAR,CAFN,CAGLS,MAAM,CAAE,CACNT,IAAI,CAAE,KADA,CAHH,CAMLU,UAAU,CAAErB,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEE,GAAN,CAAU,SAACC,KAAD,QAAWA,MAAK,CAACmB,UAAjB,EAAV,CANP,CAOLC,IAAI,CAAE,UAPD,CAfA,CAwBPC,IAAI,CAAE,CACJD,IAAI,CAAE,UADF,CAEJE,QAAQ,CAAE,CAAEC,gBAAgB,CAAE,CAAC,MAAD,CAApB,CAA8BC,KAAK,CAAE,CAAC,CAAD,CAAI,GAAJ,CAArC,CAFN,CAxBC,CA4BPC,MAAM,CAAE,CAAC,KAAD,CA5BD,CA6BPC,OAAO,CAAE,CACPC,CAAC,CAAE,CACDC,SAAS,CAAE,mBAACC,KAAD,oBAAgBA,KAAK,CAACC,OAAN,CAAc,CAAd,CAAhB,GADV,CADI,CA7BF,CARX,EAJJ,EADF,CAoDD,CACD,cAAerC,MAAf"},"metadata":{},"sourceType":"module"}